<template>
  <section class="downloads-section section-animate" id="downloads" ref="sectionRef">
    <h2 class="section-title">–í—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –æ–¥–Ω–∏–º –∞—Ä—Ö–∏–≤–æ–º</h2>
    <div class="downloads-container">
      
      <div class="downloads-card">
        <div class="downloads-icon">üì¶</div>
        <div class="downloads-content">
          <h3>–ü–æ–ª–Ω—ã–π –ø–∞–∫–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞</h3>
          <p>–°–∫–∞—á–∞–π—Ç–µ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–ª–∞–Ω–∫–∏, —Ñ–æ—Ä–º—ã –∏ –ø—Ä–∏–º–µ—Ä—ã –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –≤ –æ–¥–Ω–æ–º ZIP-–∞—Ä—Ö–∏–≤–µ. –≠–∫–æ–Ω–æ–º—å—Ç–µ –≤—Ä–µ–º—è - –Ω–µ –∏—â–∏—Ç–µ –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏!</p>
          
          <div class="files-list">
            <div v-for="(file, index) in files" :key="index" class="file-item">
              <span class="file-icon">üìÑ</span>
              <span class="file-name">{{ file.name }}</span>
              <span class="file-size">{{ file.size }}</span>
            </div>
          </div>
          
          <div class="downloads-info">
            <div class="info-item">
              <span class="info-icon">‚ö°</span>
              <span>–í—Å–µ–≥–æ {{ files.length }} –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤</span>
            </div>
            <div class="info-item">
              <span class="info-icon">üìÅ</span>
              <span>–û–±—â–∏–π —Ä–∞–∑–º–µ—Ä: ~400 –ö–ë</span>
            </div>
            <div class="info-item">
              <span class="info-icon">üïí</span>
              <span>–ê–∫—Ç—É–∞–ª—å–Ω–æ –Ω–∞ 2025 –≥–æ–¥</span>
            </div>
          </div>
          
          <a href="#" class="download-archive-button" @click.prevent="downloadArchive">
            <span class="button-icon">üíæ</span>
            –°–∫–∞—á–∞—Ç—å ZIP-–∞—Ä—Ö–∏–≤ (400 –ö–ë)
          </a>
          
          <div class="downloads-note">
            <p>üí° <strong>–°–æ–≤–µ—Ç:</strong> –ü–æ—Å–ª–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è —Ä–∞—Å–ø–∞–∫—É–π—Ç–µ –∞—Ä—Ö–∏–≤ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –ø–æ –Ω–∞—à–µ–º—É —á–µ–∫-–ª–∏—Å—Ç—É</p>
          </div>
        </div>
      </div>
    </div>
  </section>
</template>

<script setup>
import { ref, onMounted } from 'vue'

const sectionRef = ref(null)

const files = [
  { name: '–ë–ª–∞–Ω–∫ –∑–∞—è–≤–ª–µ–Ω–∏—è –æ –ø–µ—Ä–µ–≤–æ–¥–µ', size: '(PDF, 45 –ö–ë)' },
  { name: '–°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö', size: '(PDF, 38 –ö–ë)' },
  { name: '–û–±—Ä–∞–∑–µ—Ü —Å–ø—Ä–∞–≤–∫–∏ –æ–± –æ–±—É—á–µ–Ω–∏–∏', size: '(PDF, 52 –ö–ë)' },
  { name: '–ü—Ä–∏–º–µ—Ä –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞—è–≤–ª–µ–Ω–∏—è', size: '(PDF, 68 –ö–ë)' },
  { name: '–ü–æ–ª–æ–∂–µ–Ω–∏–µ –æ –ø–æ—Ä—è–¥–∫–µ –ø–µ—Ä–µ–≤–æ–¥–∞', size: '(PDF, 120 –ö–ë)' },
  { name: '–ß–µ–∫-–ª–∏—Å—Ç –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤', size: '(PDF, 35 –ö–ë)' }
]

const downloadArchive = () => {
  // Logic to download archive (mocked)
  alert('–°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∞—Ä—Ö–∏–≤–∞ –Ω–∞—á–Ω–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏...')
}

onMounted(() => {
  const observer = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible')
        observer.unobserve(entry.target)
      }
    })
  }, { threshold: 0.1 })

  if (sectionRef.value) {
    observer.observe(sectionRef.value)
  }
})
</script>
